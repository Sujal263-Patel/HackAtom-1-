(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{6864:function(e,t,n){Promise.resolve().then(n.t.bind(n,2853,23)),Promise.resolve().then(n.bind(n,1590)),Promise.resolve().then(n.t.bind(n,5799,23))},1590:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var i=n(7437),r=n(2265);function o(){let[e,t]=(0,r.useState)("default"),[n,o]=(0,r.useState)(!1),[a,s]=(0,r.useState)([]);(0,r.useEffect)(()=>{"Notification"in window&&"serviceWorker"in navigator&&(o(!0),t(Notification.permission),navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)}));let e=()=>{let e=Date.now();localStorage.setItem("lastVisit",e.toString()),localStorage.setItem("lastActivity",e.toString())},n=()=>{let e=localStorage.getItem("lastVisit"),t=localStorage.getItem("notificationSent24h");if(e){let n=Date.now()-parseInt(e),i=Math.floor(n/36e5);i>=24&&!t&&"granted"===Notification.permission&&(d(),localStorage.setItem("notificationSent24h",Date.now().toString())),i>=48&&localStorage.removeItem("notificationSent24h")}},i=["click","scroll","keydown","mousemove"];i.forEach(t=>{document.addEventListener(t,e,{passive:!0})}),e(),n();let r=setInterval(n,18e5);return()=>{clearInterval(r),i.forEach(t=>{document.removeEventListener(t,e)})}},[]);let c=async()=>{if(n)try{let e=await Notification.requestPermission();t(e),"granted"===e?(l(),m("Notifications enabled! We'll remind you about new updates and learning opportunities.","success")):m("Notifications blocked. You can enable them anytime in your browser settings.","warning")}catch(e){console.error("Error requesting notification permission:",e),m("Unable to enable notifications. Please check your browser settings.","error")}},l=()=>{if("granted"===Notification.permission){let e=new Notification("Welcome to Isotope Impact Explorer! \uD83D\uDE80",{body:"Start exploring nuclear technology economics and stay updated with the latest industry insights.",icon:"/icon-192x192.png",badge:"/badge-72x72.png",tag:"welcome",requireInteraction:!1,silent:!1});e.onclick=()=>{window.focus(),window.location.href="/modules",e.close()},setTimeout(()=>e.close(),8e3)}},d=()=>{if("granted"===Notification.permission){let e=["Welcome back! \uD83C\uDFAF","Ready to continue learning? \uD83D\uDCDA","New insights await! \uD83D\uDD2C","Your nuclear journey continues! ⚛️"],t=["New isotope research and market updates are available. Continue your nuclear economics journey!","Fresh content and analysis tools are ready for you. Dive back into nuclear technology!","Updated market data and new learning modules await. Explore the latest in nuclear economics!","Don't miss out on the latest nuclear industry developments. Your learning journey continues!"],n=e[Math.floor(Math.random()*e.length)],i=t[Math.floor(Math.random()*t.length)],r=new Notification(n,{body:i,icon:"/icon-192x192.png",badge:"/badge-72x72.png",tag:"return-visit-24h",requireInteraction:!0,silent:!1});r.onclick=()=>{window.focus(),window.location.href="/dashboard",r.close()},setTimeout(()=>r.close(),15e3),m("Welcome back! Check out the latest nuclear technology updates.","info")}},u=e=>{if("granted"===Notification.permission){let t=new Notification("\uD83D\uDD2C Nuclear Industry Update",{body:"Breaking: ".concat(e.title),icon:"/icon-192x192.png",badge:"/badge-72x72.png",tag:"news-update",requireInteraction:!1,data:{newsId:e.id,category:e.category}});t.onclick=()=>{window.focus(),window.location.href="/resources",t.close()},setTimeout(()=>t.close(),1e4)}},m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n={id:Date.now(),message:e,type:t,timestamp:new Date,read:!1};s(e=>[n,...e.slice(0,4)]),setTimeout(()=>{s(e=>e.filter(e=>e.id!==n.id))},"error"===t?1e4:"warning"===t?8e3:6e3)},f=e=>{s(t=>t.map(t=>t.id===e?{...t,read:!0}:t))},g=e=>{switch(e){case"success":return"ri-check-circle-line text-green-500";case"warning":return"ri-alert-line text-yellow-500";case"error":return"ri-error-warning-line text-red-500";case"info":return"ri-information-line text-blue-500";default:return"ri-notification-line text-indigo-500"}},h=e=>{switch(e){case"success":return"bg-green-50 border-green-200";case"warning":return"bg-yellow-50 border-yellow-200";case"error":return"bg-red-50 border-red-200";case"info":return"bg-blue-50 border-blue-200";default:return"bg-white border-gray-200"}};return(0,r.useEffect)(()=>{window.showNotification=m,window.showNewsNotification=u,window.requestNotificationPermission=c},[]),(0,i.jsxs)("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm",children:[n&&"default"===e&&(0,i.jsx)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl p-5 shadow-xl animate-pulse",children:(0,i.jsxs)("div",{className:"flex items-start",children:[(0,i.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center mr-4 flex-shrink-0",children:(0,i.jsx)("i",{className:"ri-notification-line text-lg text-white"})}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("h4",{className:"text-lg font-bold mb-2",children:"Stay Connected! \uD83D\uDE80"}),(0,i.jsx)("p",{className:"text-sm opacity-90 mb-4",children:"Get personalized notifications about nuclear industry updates, learning progress, and return reminders when you're away for 24+ hours."}),(0,i.jsxs)("div",{className:"flex gap-3",children:[(0,i.jsx)("button",{onClick:c,className:"bg-white/20 backdrop-blur hover:bg-white/30 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all hover:scale-105",children:"✨ Enable Notifications"}),(0,i.jsx)("button",{onClick:()=>t("denied"),className:"bg-white/10 hover:bg-white/20 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Maybe Later"})]})]})]})}),a.map(e=>(0,i.jsx)("div",{className:"".concat(h(e.type)," border rounded-xl p-4 shadow-lg max-w-sm transform transition-all duration-300 hover:scale-102 ").concat(e.read?"opacity-75 scale-95":"opacity-100 scale-100"),children:(0,i.jsxs)("div",{className:"flex items-start",children:[(0,i.jsx)("div",{className:"w-8 h-8 flex items-center justify-center mr-3 flex-shrink-0",children:(0,i.jsx)("i",{className:g(e.type)})}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsx)("p",{className:"text-sm font-medium text-gray-900 leading-relaxed mb-2",children:e.message}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("span",{className:"text-xs text-gray-500",suppressHydrationWarning:!0,children:e.timestamp.toLocaleTimeString()}),!e.read&&(0,i.jsx)("button",{onClick:()=>f(e.id),className:"text-xs text-indigo-600 hover:text-indigo-700 font-medium",children:"Mark as read"})]})]}),(0,i.jsx)("button",{onClick:()=>s(t=>t.filter(t=>t.id!==e.id)),className:"ml-2 text-gray-400 hover:text-gray-600 flex-shrink-0 w-6 h-6 flex items-center justify-center rounded hover:bg-gray-100 transition-colors",children:(0,i.jsx)("i",{className:"ri-close-line text-sm"})})]})},e.id)),n&&"granted"===e&&(0,i.jsx)("div",{className:"fixed bottom-4 right-4",children:(0,i.jsx)("div",{className:"bg-green-100 border border-green-200 rounded-full p-2 shadow-sm",children:(0,i.jsx)("i",{className:"ri-notification-check-line text-green-600"})})})]})}},2853:function(){},5799:function(e){e.exports={style:{fontFamily:"'__Inter_e8ce0c', '__Inter_Fallback_e8ce0c'",fontStyle:"normal"},className:"__className_e8ce0c",variable:"__variable_e8ce0c"}},622:function(e,t,n){"use strict";var i=n(2265),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var i,o={},l=null,d=null;for(i in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,i)&&!c.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===o[i]&&(o[i]=t[i]);return{$$typeof:r,type:e,key:l,ref:d,props:o,_owner:s.current}}t.Fragment=o,t.jsx=l,t.jsxs=l},7437:function(e,t,n){"use strict";e.exports=n(622)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=6864)}),_N_E=e.O()}]);